# Declarative Pipelines for any CI/CD tool /  Automation and simplification of pipeline development

Проблематика:
CI/CD система зачастую является техническим долгом. Что кто то когда то решил писать на дженкинсе, или кто то решил на гитлабе, и теперь очень дорого все переписывать на другую систему. Бывает, что много заказчиков, кто то хочет иметь пайплайны на гитлабе, кто то хочет на дженкинсе, кто то хочет на гитхаб экшинс. Еще часто нужно писать пайплайны для каждого проекта со своей спецификой, и пайплайны могут писать только ДевОпсы. Также часто флоу не гибкий. Нельзя переопределять порядок стейджей и тд

Решение:
Предлагаем написание единых декларативных пайплайнов, которые смогут использовать и gitlab, jenkins, github actions. И даже если придет кто то и захочет на TeamCity, то там тоже получится.
Написание декларативных пайплайнов с помощью CLI комманд.
Подобный подход есть у k8s манифестов, когда ты можешь сделать деплоймент, или сервис, что угодно путем написания декларации и того, что ты хочешь параметрами
Пример (схоже с k8s манифестами)

```

apiVersion: diplomapi
kind: Pipelinne
metadata:
  name: jira-update-pipeline
command: jira-update-ticket
  params:
    jira_login:
      url: ....
      token: ....
      username: ....
    ticket: DIPLOM-0001
    comment: ....
( in design )

В пайплайн гитлаба принесем просто эту декларацию. и все. Можем принести в дженкикс и другую систему. Главное, чтобы был внутри executor который распарсит декларацию, сгенерирует новый пайплайн gitlab-ci.yml и запустит его. а сам пайплайн под капотом выполнит команду нужную. Тут главное написать только executor, а не все пайплайны заново на условны й groovy, или js (githab actions)

В качестве дипломной работы хотим попробовать реализовать только для гитлаба.
Теперь требуется написать только комманды с логикой, а не все пайплайны целиком.

Теперь любой системны аналитик, кто угодно может пистаь пайплайны и переопределять логику, придумывать свои сценарии и тд
